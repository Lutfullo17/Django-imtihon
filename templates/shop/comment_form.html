<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kommentni tahrirlash</title>

  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1b33;
      --panel2:#0c1730;
      --text:#e8eefc;
      --muted:#a9b6d6;
      --line:rgba(255,255,255,.10);
      --primary:#4f8cff;
      --danger:#ff4d4d;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 700px at 10% 10%, rgba(79,140,255,.18), transparent 60%),
        radial-gradient(900px 600px at 90% 20%, rgba(255,255,255,.06), transparent 55%),
        var(--bg);
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .card{
      width:min(720px, 92vw);
      border:1px solid var(--line);
      border-radius:18px;
      background: rgba(255,255,255,.04);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 45px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .head{ padding:18px 18px 10px 18px; }
    h1{ margin:0; font-size:20px; }
    .sub{ margin:8px 0 0 0; color:var(--muted); font-size:13px; line-height:1.6; }

    form{ padding: 14px 18px 18px 18px; display:grid; gap:12px; }
    label{ font-size:13px; color:var(--muted); }
    input, textarea, select{
      width:100%;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--line);
      background: rgba(12,23,48,.60);
      color:var(--text);
      outline:none;
    }
    textarea{ min-height: 140px; resize: vertical; }
    input:focus, textarea:focus, select:focus{
      border-color: rgba(79,140,255,.55);
      box-shadow: 0 0 0 4px rgba(79,140,255,.15);
    }

    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top:4px; }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding: 11px 14px;
      border-radius:14px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      color: var(--text);
      font-weight:800;
      cursor:pointer;
      transition:.15s ease;
      text-decoration:none;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.06); }
    .btn--primary{
      border-color: rgba(79,140,255,.35);
      background: rgba(79,140,255,.22);
    }
    .btn--primary:hover{ background: rgba(79,140,255,.30); }
    .btn--danger{
      border-color: rgba(255,77,77,.30);
      background: rgba(255,77,77,.14);
    }
    .btn--danger:hover{ background: rgba(255,77,77,.20); }

    .errors{
      border-radius:14px;
      padding:12px;
      border:1px solid rgba(255,77,77,.25);
      background: rgba(255,77,77,.10);
      color:#ffd1d1;
      font-size:13px;
    }
  </style>
</head>

<body>
  <div class="card">
    <div class="head">
      <h1>✏️ Kommentni tahrirlash</h1>
      <p class="sub">Komment matnini o‘zgartiring va “Saqlash” tugmasini bosing.</p>
    </div>

    <form method="post">
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="errors">{{ form.non_field_errors }}</div>
      {% endif %}

      {% for field in form %}
        <div>
          <label for="{{ field.id_for_label }}">{{ field.label }}</label>
          {{ field }}
          {% if field.errors %}
            <div class="errors">{{ field.errors }}</div>
          {% endif %}
        </div>
      {% endfor %}

      <div class="actions">
        <button class="btn btn--primary" type="submit">Saqlash</button>
        {% if comment and comment.product %}
          <a class="btn" href="{% url 'mahsulot_detail' id=comment.product.id %}">← Orqaga</a>
        {% else %}
          <a class="btn" href="{% url 'home' %}">← Home</a>
        {% endif %}
      </div>
    </form>
  </div>
</body>
</html>
